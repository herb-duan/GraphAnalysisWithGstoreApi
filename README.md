# GraphAnalysisWithGstoreApi

## 程序总体说明
### 用户运行 python app.py 并按照命令行提示输入合法的公司名称或层数即可完成相应的查询与可视化任务
程序总入口： app.py：整合三个任务的处理

任务一： --> query1.py：查询两个公司之间的关联路径（2-hop）并可视化

任务二：--->query2.py：实现多层股权的穿透式查询并可视化

任务三：--->query3.py：环形持股查询判断

任务三：--->query3new.py:环形持股查询判断并可视化环形路径

preprocessData.py：对RDF三元组数据预处理，抽取出所有的公司名称，形成 company.txt 文件，用于对用户输入公司名称是否合法进行检查。

## 作业目标：
利用提供的金融数据集（见本文档最后位置的超链接），搭建以gStore为管理平台的小型金融知识图谱；并实现任务一、任务二、任务三的功能，返回正确的结果。(将gstore作为知识图谱存储介质，自己搭建应用平台完成实验)

## 数据集：
本数据集是一部分清洗好的股东持股关系三元组数据jinrong.nt文件，主语是公司的名称，宾语是股东的名称，在使用时需要先上传到gStore云端。数据集放在百度网盘中，里面有数据内容的简单介绍。

## 程序总入口： app.py

## 任务一： --> query1.py
按照任务一将数据上传到gStore云平台或者直接使用将数据集中的jinrong.nt文件上传到gStore云平台。利用构建好的知识图谱，编写sparql语句查询两个公司之间的关联路径（2-hop）。例如输入公司“招商局轮船股份有限公司”和“招商银行股份有限公司”，得到这两家公司之间的所有路径。

## 任务二：--->query2.py
编写sparql语言实现多层股权的穿透式查询，可以根据指定层数获得对应层级的股东，例如：输入“招商局轮船股份有限公司””和层数3，就会把“招商局轮船股份有限公司”所对应公司所有三层以内的公司找出来。

## 任务三：--->query3.py 与 query3new.py
编写sparql语言实现环形持股查询，判断两家公司是否存在环形持股现象，环形持股是指两家公司彼此持有对方的股份。例如：输入“A”和“C”，判断两家公司是否存在环形持股。
